# PRD-0006: WSOPTV Advanced Mode

| 항목 | 값 |
|------|---|
| **Version** | 2.0 |
| **Status** | Draft |
| **Priority** | P0 |
| **Created** | 2026-01-15 |
| **Updated** | 2026-01-16 |
| **Author** | Claude Code |
| **Source** | michael_note.md, michael_vision_analysis.md |

---

## Executive Summary

WSOP TV의 프리미엄 시청 경험을 제공하는 **Advanced Mode** 기능 정의. Plus+ ($50) 구독자 전용으로 **3계층 동적 Multi-view**와 **StatsView** 두 가지 핵심 기능을 통해 경쟁사(PokerGo) 대비 차별화된 가치를 제공합니다.

### 핵심 목표
- **3계층 동적 Multi-view**: PGM → 피처 테이블 → 직캠 레이어 구조로 몰입감 극대화
- **StatsView 2가지 구조**: GGPoker HUD 연동 (MVP) + 대회 실시간 연동 (Phase 2)
- Plus+ 구독의 가치 제안 확립

---

## Problem Statement

### 현재 상황
- PokerGo 등 경쟁 서비스는 단일 화면 스트리밍만 제공
- 포커 팬들은 특정 플레이어에 집중하고 싶어함
- 통계 정보 없이는 전문적인 분석 시청이 어려움

### 해결 방안
- **3계층 동적 Multi-view**: PGM → 피처 테이블 → 직캠의 계층적 구조로 유연한 시청
- **StatsView 2구조**: MVP는 GGPoker HUD DB 활용, Phase 2는 대회 실시간 연동
- 실시간 View Mode 전환으로 유연한 시청 경험

---

## Target Users

| 사용자 유형 | 설명 | Advanced Mode 니즈 |
|------------|------|-------------------|
| **하드코어 포커 팬** | 특정 선수 팔로워 | 플레이어 직캠, 표정 분석 |
| **포커 학습자** | 전략 분석 시청자 | 통계 데이터, 베팅 패턴 |
| **스트리머/해설자** | 콘텐츠 크리에이터 | 멀티앵글, 분석 자료 |

---

## Feature Specification

### 1. Multi-view (3계층 동적 멀티뷰)

#### 1.1 개념 정의

> "메인화면이 중앙에 있고, 각 유저들의 얼굴을 잡고 있는 화면이 옆에 또 있는 방식 (아이돌 직캠 스타일)"
> — Michael Note

**프로덕션 특징**:
GG POKER 방송은 여러 개의 테이블을 전환하여 방송하는 방식.
따라서 단순한 "PGM + 직캠" 구조가 아닌 **3계층 동적 구조** 제공.

#### 1.2 3계층 구조 정의

| Layer | 설명 | 수량 |
|-------|------|------|
| **Layer 1: PGM** | PD 연출 메인 화면 | 1개 |
| **Layer 2: 피처 테이블** | PGM에서 제공하는 테이블 | n개 |
| **Layer 3: 플레이어 직캠** | 각 피처 테이블의 직캠 | n개 (테이블별) |

**핵심 포인트**:
- 모든 피처 테이블이 직캠을 제공하는 것이 아님 (FANCAM 뱃지로 구분)
- 직캠 지원 테이블 선택 시에만 직캠 레이어 활성화
- 클릭/탭으로 메인 화면 전환, 레이아웃 동적 재배치

#### 1.3 동적 레이아웃 (가로 3단)

**케이스 1: PGM이 메인 (기본 상태)**
```
┌──────────────────────────────────────────────────────────┐
│                                           │ 피처 테이블   │
│                                           │ ┌──────────┐ │
│           메인 PGM (확대)                   │ │ Table 1  │ │
│                                           │ │ 직캠 지원 │ │
│                                           │ └──────────┘ │
│                                           │ ┌──────────┐ │
│                                           │ │ Table 2  │ │
│                                           │ └──────────┘ │
│                                           ├──────────────┤
│                                           │ 직캠 (비활성) │
│                                           │ "테이블 선택 │
│                                           │  시 활성화"  │
└──────────────────────────────────────────────────────────┘
```

**케이스 2: 피처 테이블이 메인 (테이블 클릭 시)**
```
┌──────────────────────────────────────────────────────────┐
│ PGM       │                               │ 직캠         │
│ ┌───────┐ │                               │ ┌──────────┐ │
│ │ 축소  │ │    피처 테이블 #1 (확대)        │ │ Player 1 │ │
│ │ PGM   │ │    (직캠 지원 테이블)          │ └──────────┘ │
│ └───────┘ │                               │ ┌──────────┐ │
│ ┌───────┐ │                               │ │ Player 2 │ │
│ │ 다른  │ │                               │ └──────────┘ │
│ │테이블 │ │                               │ ┌──────────┐ │
│ └───────┘ │                               │ │ Player 3 │ │
│           │                               │ └──────────┘ │
└──────────────────────────────────────────────────────────┘
```

**케이스 3: 직캠이 메인 (직캠 클릭 시)**
```
┌──────────────────────────────────────────────────────────┐
│ PGM       │                               │              │
│ ┌───────┐ │                               │              │
│ │ 축소  │ │                               │              │
│ │ PGM   │ │    Player 1 직캠 (확대)        │              │
│ └───────┘ │                               │              │
│ 피처테이블│                               │              │
│ ┌───────┐ │                               │              │
│ │Table 1│ │                               │              │
│ └───────┘ │                               │              │
│ ┌───────┐ │                               │              │
│ │ 다른  │ │                               │              │
│ │ 직캠  │ │                               │              │
│ └───────┘ │                               │              │
└──────────────────────────────────────────────────────────┘
```

#### 1.4 기능 요구사항

| ID | 요구사항 | 설명 | 우선순위 |
|----|---------|------|:--------:|
| MV-1.1 | 3계층 동적 레이아웃 | PGM → 피처 테이블 → 직캠 계층 구조 | P0 |
| MV-1.2 | 레이어 간 동적 전환 | 클릭으로 메인 화면 전환, 레이아웃 재배치 | P0 |
| MV-1.3 | 피처 테이블별 직캠 활성화 | FANCAM 뱃지로 직캠 지원 여부 표시 | P0 |
| MV-1.4 | 동기화 상태 표시 | 모든 스트림 동기화 상태 인디케이터 | P0 |
| MV-1.5 | Layer 전환 버튼 | PGM Main / Feature Table / Player Cam 버튼 | P1 |
| MV-1.6 | 오디오 소스 선택 | 메인/개별 캠 오디오 전환 | P1 |

#### 1.5 UI 목업

![Multi-View Screen](../../docs/images/PRD-0002/multiview-screen.png)

[HTML 원본](../../docs/mockups/PRD-0002/multiview-screen.html)

---

### 2. StatsView (통계 뷰) - 2가지 구조

#### 2.1 개념 정의

> "허드같이 그 유저의 수치라든가, 플랍에서 베팅할 확률같은거, 이런게 띄어져있는 영상"
> — Michael Note

#### 2.2 2가지 구조 정의

##### 구조 1: GGPoker HUD 연동 (MVP)

| 항목 | 내용 |
|------|------|
| **데이터 소스** | GGPoker HUD DB |
| **UI 설계** | GGPoker HUD와 동일한 정보 및 UI |
| **구현 난이도** | 중간 |
| **우선순위** | P0 (MVP) |

**제공 통계**:
| 통계 | 설명 |
|------|------|
| **VPIP** | Voluntarily Put $ In Pot |
| **PFR** | Pre-Flop Raise % |
| **3Bet** | 3-Bet 빈도 |
| **AF** | Aggression Factor |
| **Flop CB%** | 플랍 컨티뉴에이션 베팅 빈도 |
| **칩 카운트** | 현재 스택 크기 |

##### 구조 2: 대회 실시간 연동 (Phase 2)

| 항목 | 내용 |
|------|------|
| **데이터 소스** | 대회 실시간 데이터 |
| **특징** | 베팅 액션 정보 실시간 표시 |
| **구현 난이도** | 높음 (고급 작업) |
| **우선순위** | P1 (Phase 2) |

**제공 정보**:
| 정보 | 설명 |
|------|------|
| **현재 액션** | Bet / Raise / Call / Fold / Check |
| **베팅 금액** | 실시간 베팅 사이즈 |
| **팟 오즈** | 콜 시 팟 오즈 계산 |
| **예상 액션** | AI 기반 다음 액션 예측 |

#### 2.3 UI 목업

![StatsView HUD](../../docs/images/PRD-0002/statsview-hud.png)

[HTML 원본](../../docs/mockups/PRD-0002/statsview-hud.html)

#### 2.4 기능 요구사항

| ID | 요구사항 | 설명 | 우선순위 |
|----|---------|------|:--------:|
| SV-1.1 | 구조 1: GGPoker HUD 연동 | GGPoker HUD DB 기반 통계 표시 | P0 |
| SV-1.2 | HUD ON/OFF 토글 | 사용자 선택으로 표시/숨김 | P0 |
| SV-1.3 | 기본 통계 6종 | VPIP, PFR, 3Bet, AF, Flop CB, 칩 | P0 |
| SV-1.4 | 통계 상세 팝업 | 클릭 시 전체 통계 표시 | P1 |
| SV-2.1 | 구조 2: 대회 실시간 연동 | 베팅 액션 실시간 표시 | P1 |
| SV-2.2 | 예상 액션 표시 | AI 기반 베팅 확률 표시 | P2 |

#### 2.5 데이터 연동

**구조 1: GGPoker HUD 연동**
```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│  GGPoker    │────▶│   Backend   │────▶│   Client    │
│  HUD DB     │     │   API       │     │   HUD       │
└─────────────┘     └─────────────┘     └─────────────┘
```

**구조 2: 대회 실시간 연동**
```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   RFID      │────▶│   Backend   │────▶│   Client    │
│   Table     │     │   API       │     │   HUD       │
└─────────────┘     └─────────────┘     └─────────────┘
       │                   │                   │
       │            ┌──────┴──────┐            │
       │            │             │            │
       ▼            ▼             ▼            ▼
  칩 카운트    액션 로그    실시간 계산    오버레이 렌더링
```

---

### 3. View Mode Switcher

#### 3.1 UI 설계

```
┌─────────────────────────────────────────────────────────┐
│  View Mode:                                             │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐              │
│  │ Standard │  │Multi-view│  │StatsView │              │
│  │    ●     │  │    ○     │  │    ○     │              │
│  └──────────┘  └──────────┘  └──────────┘              │
└─────────────────────────────────────────────────────────┘
```

#### 3.2 모드별 특징

| Mode | 설명 | 화면 구성 |
|------|------|----------|
| **Standard** | 기본 시청 모드 | 단일 PGM 화면 |
| **Multi-view** | 멀티앵글 모드 | PGM + 플레이어 캠 |
| **StatsView** | 통계 오버레이 모드 | PGM + HUD |
| **Combined** | 통합 모드 (P2) | Multi-view + HUD |

#### 3.3 기능 요구사항

| ID | 요구사항 | 설명 | 우선순위 |
|----|---------|------|:--------:|
| VS-1.1 | 모드 전환 UI | 상단 탭 또는 플로팅 버튼 | P0 |
| VS-1.2 | 실시간 전환 | 재생 중 끊김 없이 전환 | P0 |
| VS-1.3 | 모드 기억 | 마지막 선택 모드 저장 | P1 |
| VS-1.4 | Combined 모드 | Multi-view + StatsView 동시 | P2 |

---

## Access Control

### 구독 티어별 접근 권한

| 기능 | Plus ($10) | Plus+ ($50) |
|------|:----------:|:-----------:|
| Standard Mode | O | O |
| Multi-view | **X** | **O** |
| StatsView | **X** | **O** |
| Combined Mode | X | O (P2) |

### Timeshift (재방송) 접근 권한

| 기능 | Plus ($10) | Plus+ ($50) |
|------|:----------:|:-----------:|
| Standard Timeshift | O | O |
| Timeshift + Multi-view | **X** | **O** |
| Timeshift + StatsView | **X** | **O** |
| Timeshift 보관 기간 | 30일 | 무제한 |

**결론**: Timeshift 기능도 Plus와 Plus+ 모두에서 제공하되, Advanced Mode 기능(Multi-view, StatsView)은 Plus+에서만 지원

### Plus+ 가치 제안

> "Exclusive Content (behind-the-scenes) 는 굳이 WSOPTV 용으로 따로 제작하지 말자."
> — Michael Note

**결론**: Advanced Mode가 Plus+의 **유일한 차별화 포인트**

| Plus+ 전용 기능 | 가치 |
|----------------|------|
| Multi-view | 좋아하는 플레이어 집중 시청 |
| StatsView | 전문적인 분석 시청 |
| (향후) 4K 화질 | 프리미엄 화질 |

---

## Technical Requirements

### 스트리밍 아키텍처

#### Multi-view 구현 방식

| 옵션 | 설명 | 장점 | 단점 |
|------|------|------|------|
| **A. 클라이언트 믹싱** | 10개 스트림 동시 수신 | 유연한 레이아웃 | 트래픽 10배, 기기 부하 |
| **B. 서버 믹싱** | 서버에서 합성 후 송출 | 트래픽 1배 | 레이아웃 고정 |
| **C. 하이브리드** | 메인+선택 캠만 수신 | 균형 | 복잡도 증가 |

**권장안**: **B. 서버 믹싱**
- 30분+ 의도적 지연 방송이므로 사전 렌더링 가능
- 트래픽 비용 최적화

#### StatsView 구현 방식

| 옵션 | 설명 | 실현 가능성 | 비용 |
|------|------|:----------:|:----:|
| **A. GTO Solver 실시간 연동** | 실시간 최적 플레이 계산 | 낮음 | 매우 높음 |
| **B. 사전 계산 통계** | 역대 데이터 기반 통계 | 높음 | 중간 |
| **C. 수동 입력** | 해설자/운영자 입력 | 높음 | 낮음 |

**권장안**: **B. 사전 계산 통계** (MVP)
- GGPoker 내부 통계 DB 활용
- 대회 시작 전 플레이어 프로필 캐싱

### 플랫폼별 지원

| 플랫폼 | Multi-view | StatsView | 비고 |
|--------|:----------:|:---------:|------|
| **Web** | O | O | 풀 기능 |
| **iOS** | O | O | 풀 기능 |
| **Android** | O | O | 풀 기능 |
| **Samsung TV** | X | X | 리모컨 UX 제약 |
| **LG TV** | X | X | 리모컨 UX 제약 |

> **제약사항**: TV 앱에서는 Advanced Mode 미지원. PGM 단일 화면만 제공.

---

## UI/UX Specification

### Multi-view 인터랙션

| 액션 | 동작 |
|------|------|
| 플레이어 캠 탭 | 해당 캠 풀스크린 전환 |
| 풀스크린에서 뒤로 | 멀티뷰로 복귀 |
| 오디오 아이콘 탭 | 오디오 소스 전환 |
| 더블탭 | 메인 PGM으로 복귀 |

### StatsView 인터랙션

| 액션 | 동작 |
|------|------|
| HUD 탭 | 상세 통계 팝업 |
| 팝업 외부 탭 | 팝업 닫기 |
| HUD 토글 버튼 | 전체 HUD 표시/숨김 |
| 롱프레스 | HUD 위치 조정 (P2) |

---

## Dependencies

### 내부 의존성

| 의존성 | 설명 | 담당 |
|--------|------|------|
| GGPoker 통계 API | 플레이어 히스토리 데이터 | GG POKER |
| RFID 테이블 연동 | 실시간 칩 카운트 | 프로덕션팀 |
| 멀티캠 인프라 | 10개 동시 카메라 | 프로덕션팀 |

### 외부 의존성

| 의존성 | 설명 | 공급사 |
|--------|------|--------|
| 비디오 믹싱 서버 | 서버 사이드 렌더링 | OVP 업체 |
| CDN 멀티스트림 | 동시 스트림 배포 | AWS/Akamai |

---

## Success Metrics

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| Plus+ 전환율 | Plus 대비 20% 전환 | 구독 데이터 |
| Advanced Mode 사용률 | Plus+ 사용자 중 70% | 기능 사용 로그 |
| Multi-view 평균 사용 시간 | 세션당 30분+ | 시청 로그 |
| StatsView 활성화율 | 60% 상시 ON | 설정 로그 |

---

## Timeline

| Phase | 기능 | 목표 시점 |
|-------|------|----------|
| **Phase 1 (MVP)** | Multi-view 기본, StatsView 기본 통계 | Q3 2026 |
| **Phase 2** | 4분할 레이아웃, 확장 통계 | Q4 2026 |
| **Phase 3** | Combined Mode, 예상 액션 | 2027 |

---

## Open Questions

### 프로덕션팀 (PD/연출) 제안 필요

1. **Multi-view 레이아웃 선호도**
   - 직캠 스타일 (메인 + 하단 9개) vs 4분할 그리드?
   - 제안 배경: 아이돌 직캠 vs 스포츠 멀티뷰 두 가지 방향 존재

2. **TV 앱 예외 처리**
   - Plus+ 구독자가 TV에서 Advanced Mode 미지원 시 사용자 경험 어떻게 할 것인가?
   - 제안 배경: 리모컨 UX 제약으로 인한 구현 불가능성

### GG POKER (데이터 제공) 제안 필요

1. **StatsView 통계 범위 및 정확성**
   - GGPoker 내부 통계만 제공 vs 외부 데이터 연동?
   - GTO Wizard 연동 가능성 및 기술 스택?
   - 제안 배경: 통계 데이터의 신뢰성과 확장성

2. **통계 데이터 갱신 주기**
   - 대회 전 1회 캐싱 vs 핸드별 실시간 갱신?
   - 제안 배경: 레이턴시 vs 정확성 트레이드오프

### 개발팀 (기술 구현) 제안 필요

1. **서버 믹싱 vs 클라이언트 믹싱**
   - B안(서버 믹싱) 권장 근거: 30분+ 지연 방송이므로 사전 렌더링 가능
   - 제안 배경: 트래픽 비용 최적화

---

## References

- `docs/order/michael_note.md` - 크리에이티브 디렉터 비전
- `docs/order/michael_vision_analysis.md` - 비전 분석 보고서
- `tasks/prds/PRD-0002-wsoptv-ott-platform-mvp.md` - MVP 스펙

---

*Created: 2026-01-15*
*Last Updated: 2026-01-16*

---

## Revision History

| 버전 | 날짜 | 작성자 | 내용 |
|------|------|--------|------|
| 1.0 | 2026-01-15 | Claude Code | 최초 작성 |
| 2.0 | 2026-01-16 | Claude Code | Multi-view 3계층 동적 구조로 재설계, StatsView 2가지 구조 정의, UI 목업 링크 추가 |
