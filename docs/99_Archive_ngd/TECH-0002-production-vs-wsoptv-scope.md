# TECH-0002: 프로덕션 vs WSOPTV 영역 구분

| 항목 | 값 |
|------|---|
| **Version** | 1.0 |
| **Status** | Draft |
| **Created** | 2026-02-02 |
| **Author** | Claude Code |
| **Related** | TECH-0001, PRD-0002, PRD-0006 |

---

## 1. 개요

이 문서는 **GG Production (프로덕션 팀)**과 **WSOPTV OTT 플랫폼**의 역할을 명확히 구분합니다.

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         전체 시스템 구조                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌─────────────────────────┐        ┌─────────────────────────┐           │
│   │    🎬 GG PRODUCTION     │        │    📺 WSOPTV OTT        │           │
│   │    (프로덕션 영역)       │   ──▶  │    (플랫폼 영역)         │           │
│   │                         │        │                         │           │
│   │  • 촬영/송출             │        │  • 스트리밍 서비스        │           │
│   │  • 편집/GFX             │        │  • 사용자 인터페이스      │           │
│   │  • 콘텐츠 생성          │        │  • 구독/결제             │           │
│   └─────────────────────────┘        └─────────────────────────┘           │
│                                                                             │
│   ──────────────────────────────────────────────────────────────────────    │
│   경계선: 인코딩된 스트림/파일 전달                                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 2. 영역 구분 총괄표

| 기능 | 프로덕션 영역 | WSOPTV 영역 | 비고 |
|------|:------------:|:-----------:|------|
| **촬영** | ✅ | ❌ | 카메라, 장비 운영 |
| **스위칭/편집** | ✅ | ❌ | 실시간 컷편집, GFX 삽입 |
| **Player Cam 촬영** | ✅ | ❌ | 각 플레이어 직캠 |
| **StatsView GFX** | ✅ | ❌ | VPIP/PFR 등 통계 그래픽 렌더링 |
| **Hand Split** | ✅ | ❌ | 핸드별 분리 및 태깅 |
| **인코딩/송출** | ✅ | ❌ | SRT/RTMP 전송 |
| **스트림 수신** | ❌ | ✅ | CDN 인제스트 |
| **Multi-view 레이아웃** | ⚠️ | ✅ | 옵션에 따라 다름 (아래 상세) |
| **Player Cam 선택 UI** | ❌ | ✅ | 사용자 선택 인터랙션 |
| **StatsView 토글** | ❌ | ✅ | ON/OFF 사용자 제어 |
| **Timeshift** | ❌ | ✅ | 라이브 중 되감기 |
| **VOD 플레이어** | ❌ | ✅ | 재생, 탐색, 속도 조절 |
| **구독/결제** | ❌ | ✅ | GGPass 연동 |
| **검색** | ❌ | ✅ | 핸드/선수 검색 UI |

---

## 3. 프로덕션 영역 상세 (🎬 GG Production)

### 3.1 담당 범위

| 카테고리 | 세부 작업 | 산출물 |
|----------|----------|--------|
| **촬영** | 테이블 카메라 운영, 플레이어 직캠 촬영 | Raw 영상 피드 |
| **스위칭** | 실시간 컷편집, 카메라 전환 | PGM (Program) 피드 |
| **GFX** | 칩 카운트, 팟 사이즈, 카드 노출, StatsView 오버레이 | GFX 포함 피드 |
| **Hand Split** | 핸드별 타임코드 마킹, 메타데이터 생성 | 핸드 목록 JSON |
| **인코딩** | H.264/H.265 인코딩, 비트레이트 설정 | 인코딩된 스트림 |
| **송출** | SRT/RTMP로 클라우드 전송 | 전송된 스트림 |

### 3.2 프로덕션 Output 포맷

프로덕션에서 WSOPTV로 전달하는 산출물:

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  프로덕션 Output                                                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  1. 메인 PGM 스트림 (필수)                                                  │
│     └── 1080p60, H.264, 8-15 Mbps                                          │
│     └── GFX 포함 (칩 카운트, 팟, 카드)                                      │
│                                                                             │
│  2. Player Cam 스트림 (옵션 2.2 선택 시)                                   │
│     └── 각 플레이어별 개별 스트림 (최대 9명)                                 │
│     └── 720p30, H.264, 2-4 Mbps                                            │
│                                                                             │
│  3. StatsView 피드 (옵션 선택 시)                                          │
│     └── 옵션 A: GFX 포함 단일 스트림                                        │
│     └── 옵션 B: 통계 데이터 JSON (WSOPTV에서 오버레이)                       │
│                                                                             │
│  4. 메타데이터 (필수)                                                       │
│     └── 핸드 목록: hand_id, start_time, end_time, pot_size                 │
│     └── 플레이어 목록: player_id, seat, chips                               │
│     └── 이벤트 정보: event_id, stage, blinds                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.3 StatsView 처리 옵션

| 옵션 | 처리 주체 | 장점 | 단점 |
|------|----------|------|------|
| **옵션 A: 프로덕션 GFX** | 🎬 프로덕션 | 고품질 그래픽, 일관된 디자인 | 실시간 업데이트 제한, 유연성 낮음 |
| **옵션 B: WSOPTV 오버레이** | 📺 WSOPTV | 실시간 토글, 사용자 맞춤 | 그래픽 품질 제한, 추가 개발 |
| **옵션 C: 하이브리드** | 양쪽 | 기본 GFX + 사용자 토글 | 복잡도 증가, 동기화 필요 |

> **권장**: 옵션 A (프로덕션 GFX) + WSOPTV에서 ON/OFF 토글만 제공

---

## 4. WSOPTV 영역 상세 (📺 OTT 플랫폼)

### 4.1 담당 범위

| 카테고리 | 세부 작업 | 기술 요소 |
|----------|----------|----------|
| **스트림 수신** | CDN 인제스트, 트랜스코딩 | AWS MediaLive, CloudFront |
| **재생** | HLS/DASH 적응형 스트리밍 | Video.js, Shaka Player |
| **Multi-view UI** | 레이아웃 선택, 스트림 배치 | React, CSS Grid |
| **Player Cam UI** | 직캠 선택, 확대, 오디오 선택 | 컴포넌트 인터랙션 |
| **Timeshift** | DVR 버퍼, 시간 탐색 | CDN DVR 기능 |
| **VOD** | 재생, 탐색, 속도 조절 | 표준 플레이어 |
| **검색** | 핸드/선수 검색 UI | Elasticsearch, API |
| **구독/결제** | GGPass SSO, 결제 처리 | Stripe, GGPass API |
| **사용자 설정** | 선호 팀, 알림, 언어 | 사용자 DB |

### 4.2 WSOPTV 기능별 처리

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  WSOPTV 기능별 처리 영역                                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  Selected View (기본 시청)                                          │   │
│  ├─────────────────────────────────────────────────────────────────────┤   │
│  │  • 프로덕션: 메인 PGM 스트림 제공                                    │   │
│  │  • WSOPTV: 스트림 선택 UI, 재생 컨트롤                               │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  Table Multi-view (4분할)                                           │   │
│  ├─────────────────────────────────────────────────────────────────────┤   │
│  │  • 프로덕션: 각 테이블별 PGM 스트림 제공 (동시 4개)                   │   │
│  │  • WSOPTV: 그리드 레이아웃, 테이블 선택/배치, 오디오 선택            │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  Player Cam (플레이어 직캠)                                         │   │
│  ├─────────────────────────────────────────────────────────────────────┤   │
│  │  • 프로덕션: 플레이어별 직캠 스트림 제공 (최대 9개)                   │   │
│  │  • WSOPTV: 직캠 선택 UI, 확대, 오디오 전환                           │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  StatsView (통계 표시)                                              │   │
│  ├─────────────────────────────────────────────────────────────────────┤   │
│  │  • 옵션 A: 프로덕션 GFX 포함 스트림 → WSOPTV는 ON/OFF만             │   │
│  │  • 옵션 B: 프로덕션 데이터 → WSOPTV에서 오버레이 렌더링             │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  Key Hands (주요 핸드)                                              │   │
│  ├─────────────────────────────────────────────────────────────────────┤   │
│  │  • 프로덕션: 핸드 목록 메타데이터 제공 (hand_id, timestamp)          │   │
│  │  • WSOPTV: 목록 UI, 클릭 시 해당 시점 점프                           │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  Timeshift (되감기)                                                 │   │
│  ├─────────────────────────────────────────────────────────────────────┤   │
│  │  • 프로덕션: 관여 없음                                               │   │
│  │  • WSOPTV: DVR 버퍼 관리, 시간 탐색 UI                               │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 5. 인터페이스 정의 (프로덕션 ↔ WSOPTV)

### 5.1 스트림 인터페이스

| 스트림 유형 | 프로토콜 | 해상도 | 비트레이트 | 동시 수 |
|------------|---------|--------|-----------|--------|
| **메인 PGM** | SRT | 1080p60 | 8-15 Mbps | 테이블당 1개 |
| **Player Cam** | SRT | 720p30 | 2-4 Mbps | 테이블당 최대 9개 |
| **Clean Feed** | SRT | 1080p60 | 8-15 Mbps | 옵션 (GFX 없는 원본) |

### 5.2 메타데이터 인터페이스

```json
// 핸드 메타데이터 (프로덕션 → WSOPTV)
{
  "event_id": "wsop-2026-main-event",
  "table_id": "table-1",
  "hand_id": "hand-047",
  "start_time": "2026-07-15T18:32:15Z",
  "end_time": "2026-07-15T18:35:42Z",
  "blinds": "50000/100000",
  "pot_size": 2400000,
  "is_all_in": true,
  "winner": "player-ivey",
  "players": [
    {"id": "player-ivey", "seat": 1, "chips_start": 5200000, "chips_end": 7600000},
    {"id": "player-negreanu", "seat": 4, "chips_start": 3100000, "chips_end": 700000}
  ]
}
```

### 5.3 통계 데이터 인터페이스 (옵션 B 선택 시)

```json
// 플레이어 통계 (프로덕션 → WSOPTV)
{
  "player_id": "player-ivey",
  "stats": {
    "vpip": 28.5,
    "pfr": 22.1,
    "af": 3.2,
    "hands_played": 142,
    "win_rate": 12.3
  },
  "updated_at": "2026-07-15T18:35:42Z"
}
```

---

## 6. 옵션별 역할 분담 상세

### 6.1 옵션 2.1: 피처 테이블별 멀티뷰

| 작업 | 담당 | 비고 |
|------|------|------|
| 테이블별 PGM 촬영/편집 | 🎬 프로덕션 | GFX 포함 |
| 2x2 그리드 레이아웃 | 📺 WSOPTV | 사용자 배치 |
| 오디오 선택 | 📺 WSOPTV | 1개만 활성화 |

### 6.2 옵션 2.2: 멀티뷰 + 인물별 직캠

| 작업 | 담당 | 비고 |
|------|------|------|
| 테이블 PGM 촬영/편집 | 🎬 프로덕션 | 메인 피드 |
| 플레이어별 직캠 촬영 | 🎬 프로덕션 | 최대 9개 동시 |
| 직캠 스트림 인코딩/송출 | 🎬 프로덕션 | 개별 SRT 스트림 |
| Player Cam UI | 📺 WSOPTV | 선택, 확대, 오디오 |

### 6.3 옵션 2.3: 인물 팔로업 방식 (현재 시스템)

| 작업 | 담당 | 비고 |
|------|------|------|
| 키 플레이어 팔로업 촬영 | 🎬 프로덕션 | 이동 카메라 |
| 스위칭 (플레이어 전환) | 🎬 프로덕션 | 프로덕션 판단 |
| 단일 PGM 수신/재생 | 📺 WSOPTV | 선택권 제한 |

---

## 7. 미확정 사항 (Open Questions)

> **이 섹션은 프로덕션 팀과 협의 후 확정 필요**

| # | 질문 | 영향 | 상태 |
|:-:|------|------|:----:|
| 1 | Player Cam 몇 개까지 동시 제공 가능? | 옵션 2.2 가능 여부 | ⬜ |
| 2 | StatsView GFX는 프로덕션에서 실시간 업데이트 가능? | 옵션 A vs B 결정 | ⬜ |
| 3 | 핸드 메타데이터 실시간 전송 가능? | Key Hands 기능 | ⬜ |
| 4 | Clean Feed (GFX 없는 원본) 제공 가능? | WSOPTV 오버레이 옵션 | ⬜ |
| 5 | 동시 스트림 대역폭 한계? | Multi-view 제약 | ⬜ |

---

## 8. 메이저 OTT 레퍼런스 (분석 예정)

> **⚠️ 이 섹션은 직접 분석 후 내용 추가 예정**

### 8.1 NBA TV / League Pass

| 항목 | 내용 |
|------|------|
| **프로덕션 영역** | (분석 예정) |
| **플랫폼 영역** | (분석 예정) |
| **WSOPTV 시사점** | (분석 예정) |

### 8.2 NFL+ / NFL Sunday Ticket

| 항목 | 내용 |
|------|------|
| **프로덕션 영역** | (분석 예정) |
| **플랫폼 영역** | (분석 예정) |
| **WSOPTV 시사점** | (분석 예정) |

### 8.3 MLB.tv

| 항목 | 내용 |
|------|------|
| **프로덕션 영역** | (분석 예정) |
| **플랫폼 영역** | (분석 예정) |
| **WSOPTV 시사점** | (분석 예정) |

### 8.4 ESPN+

| 항목 | 내용 |
|------|------|
| **프로덕션 영역** | (분석 예정) |
| **플랫폼 영역** | (분석 예정) |
| **WSOPTV 시사점** | (분석 예정) |

---

## 9. 관련 문서

| 문서 | 설명 |
|------|------|
| [TECH-0001](TECH-0001-streaming-infrastructure.md) | 스트리밍 인프라 |
| [PRD-0002](../prds/PRD-0002-wsoptv-concept-paper.md) | 앱 기획서 |
| [PRD-0006](../prds/PRD-0006-advanced-mode.md) | Advanced Mode 4계층 구조 |
| [REPORT NFL/MLB](../01_Phase0/05-competitor-ott-analysis.md) | OTT 레퍼런스 (수집 데이터) |

---

## Revision History

| 버전 | 날짜 | 작성자 | 내용 |
|------|------|--------|------|
| 1.0 | 2026-02-02 | Claude Code | 최초 작성 - 프로덕션 vs WSOPTV 영역 구분 |
